<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D Carousel</title>
  <style>
    .carousel-container {
  position: relative;
  width: 100%;
  height: 100%;
  perspective: 1000px;
}

.carousel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}

.carousel img,
.carousel video {
  position: absolute;
  width: 200px;
  height: 400px;
  object-fit: cover;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
}

.carousel video {
  object-fit: fill;
}

.ground {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid #ccc;
  border-radius: 50%;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
}
  </style>
</head>
<body>
  <div class="carousel-container">
    <div id="spin-on" class="carousel">
      <img src="images/img1.jpg" alt="">
      <img src="images/img2.jpg" alt="">
      <img src="images/img3.jpg" alt="">
      <img src="images/img4.jpg" alt="">
      <img src="images/img5.jpg" alt="">
      <img src="images/img6.jpg" alt="">
      <img src="images/img7.jpg" alt="">
      <img src="images/img8.jpg" alt="">
      <img src="images/img9.jpg" alt="">
      <video src="videos/video1.mp4"></video>
      <video src="videos/video2.mp4"></video>
      <video src="videos/video3.mp4"></video>
    </div>
    <div class="ground" id="ground"></div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(function() {
  // Set constant variable values
  const radius = 850;
  const autoRotate = true;
  const rotateSpeed = 100;
  const imgWidth = 200; 
  const imgHeight = 400;

  // Get necessary elements from DOM
  const ospin = $('#spin-on')[0];
  const aEle = $('img, video', ospin);

  // Set dimensions for elements
  ospin.style.width = imgWidth + 'px';
  ospin.style.height = imgHeight + 'px';
  $('#ground').css({
    width: radius * 3 + 'px',
    height: radius * 3 + 'px'
  });

  // Function to initialize elements in a circular pattern
  function init(delayTime) {
    aEle.each((i, ele) => {
      ele.style.transform = `rotateY(${i * (360 / aEle.length)}deg) translateZ(${radius}px)`;
      ele.style.transition = 'transform 1s';
      ele.style.transitionDelay = `${delayTime || (aEle.length - i) / 4}s`;
    });
  }

  // Function to apply transform to selected element
  function applyTransform(obj) {
    let ty = Math.min(Math.max(-180, tY), 0);
    obj.style.transform = `rotateX(${ty}deg) rotateY(${tX}deg)`;
  }

  // Function to play/pause rotation of elements
  function playSpin(yes) {
    ospin.style.animationPlayState = yes ? 'running' : 'paused';
  }

  // Update transform values on mouse movement
  let sX, sY, nX, nY, desX = 0, desY = 0, tX = 0, tY = 10;
  $(document).on({
    mousedown: e => {
      clearInterval(spinTimer);
      sX = e.clientX;
      sY = e.clientY;
    },
    mousemove: e => {
      if (sX && sY) {
        nX = e.clientX;
        nY = e.clientY;
        const dx = (nX - sX) * 0.1;
        const dy = (nY - sY) * 0.1;
        tX += dx;
        tY += dy;
        applyTransform(ospin);
        sX = nX;
        sY = nY;
      }
    },
    mouseup: () => {
      spinTimer = setInterval(() => {
        tX += 0.1;
        applyTransform(ospin);
      }, 16);
      sX = sY = 0;
    }
  });

  // Update transform periodically
  let spinTimer = setInterval(() => {
    tX += 0.1;
    applyTransform(ospin);
  }, 16);

  // Play/pause rotation on mouse enter/leave
  $(document).on({
    mouseenter: () => playSpin(false),
    mouseleave: () => playSpin(true)
  });

  // Call init function after a short delay from page load
  setTimeout(init, 100);

});
  </script>
</body>
</html>